From: uazo <uazo@users.noreply.github.com>
Date: Sat, 3 Jun 2023 15:04:55 +0000
Subject: Disable Compression Dictionary Transport

License: GPL-2.0-or-later - https://spdx.org/licenses/GPL-2.0-or-later.html
---
 chrome/browser/chrome_content_browser_client.cc                | 3 +--
 .../features_cc/Disable-Compression-Dictionary-Transport.inc   | 1 +
 2 files changed, 2 insertions(+), 2 deletions(-)
 create mode 100644 cromite_flags/services/network/public/cpp/features_cc/Disable-Compression-Dictionary-Transport.inc

diff --git a/chrome/browser/chrome_content_browser_client.cc b/chrome/browser/chrome_content_browser_client.cc
--- a/chrome/browser/chrome_content_browser_client.cc
+++ b/chrome/browser/chrome_content_browser_client.cc
@@ -1467,8 +1467,7 @@ void ChromeContentBrowserClient::RegisterProfilePrefs(
   registry->RegisterBooleanPref(prefs::kSandboxExternalProtocolBlocked, true);
   registry->RegisterBooleanPref(prefs::kSSLErrorOverrideAllowed, true);
   registry->RegisterListPref(prefs::kSSLErrorOverrideAllowedForOrigins);
-  registry->RegisterBooleanPref(prefs::kCompressionDictionaryTransportEnabled,
-                                true);
+  registry->RegisterBooleanPref(prefs::kCompressionDictionaryTransportEnabled, false);
 #if BUILDFLAG(ENABLE_ON_DEVICE_TRANSLATION)
   registry->RegisterBooleanPref(prefs::kTranslatorAPIAllowed, true);
 #endif
diff --git a/cromite_flags/services/network/public/cpp/features_cc/Disable-Compression-Dictionary-Transport.inc b/cromite_flags/services/network/public/cpp/features_cc/Disable-Compression-Dictionary-Transport.inc
new file mode 100644
--- /dev/null
+++ b/cromite_flags/services/network/public/cpp/features_cc/Disable-Compression-Dictionary-Transport.inc
@@ -0,0 +1 @@
+SET_CROMITE_FEATURE_DISABLED(kCompressionDictionaryTransport);
--
