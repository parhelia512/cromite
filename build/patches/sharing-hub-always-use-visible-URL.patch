From: csagan5 <32685696+csagan5@users.noreply.github.com>
Date: Sun, 14 Aug 2022 00:53:52 +0200
Subject: sharing hub: always use visible URL

License: GPL-3.0-only - https://spdx.org/licenses/GPL-3.0-only.html
---
 .../src/org/chromium/chrome/browser/share/ShareDelegateImpl.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/chrome/android/java/src/org/chromium/chrome/browser/share/ShareDelegateImpl.java b/chrome/android/java/src/org/chromium/chrome/browser/share/ShareDelegateImpl.java
--- a/chrome/android/java/src/org/chromium/chrome/browser/share/ShareDelegateImpl.java
+++ b/chrome/android/java/src/org/chromium/chrome/browser/share/ShareDelegateImpl.java
@@ -318,6 +318,7 @@ public class ShareDelegateImpl implements ShareDelegate {
 
     @VisibleForTesting
     static boolean shouldFetchCanonicalUrl(final Tab currentTab) {
+	    if ((true)) return false; // Bromite always uses the visible URL
         WebContents webContents = currentTab.getWebContents();
         if (webContents == null) return false;
         if (webContents.getMainFrame() == null) return false;
--
